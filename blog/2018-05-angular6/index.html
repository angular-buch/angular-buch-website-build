<!DOCTYPE html><html lang="de"><head prefix="og: http://ogp.me/ns# book: http://ogp.me/ns/book#"><meta name="generator" content="Scully 0.0.0">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="icon" type="image/x-icon" href="favicon.ico">

  <title>Angular-Buch ‚Üí Angular 6 ist da!</title>
  

  

  <meta property="book:author" content="https://www.facebook.com/ferdinand.malcher">
  <meta property="book:author" content="https://www.facebook.com/johannes.hoppe">

  <meta property="book:isbn" content="9783864909467">
  <meta property="book:release_date" content="2023-02-28">
  <meta property="book:tag" content="Angular">
  <meta property="book:tag" content="Webentwicklung">
  <meta property="book:tag" content="AngularJS">
  <meta property="book:tag" content="TypeScript">
  <meta property="book:tag" content="JavaScript">
  <meta property="book:tag" content="HTML5">
  <meta property="book:tag" content="CSS">
  <meta property="book:tag" content="RxJS">
  <meta property="book:tag" content="Redux">
  <meta property="book:tag" content="NgRx">

  <base href="/">
<style>@font-face{font-family:Roboto;src:url(Roboto-Thin.3025beb410a67d09.eot);src:local("Roboto Thin"),local("Roboto-Thin"),url(Roboto-Thin.3025beb410a67d09.eot?#iefix) format("embedded-opentype"),url(Roboto-Thin.a529f43f8b43a41b.woff2) format("woff2"),url(Roboto-Thin.0cfb6189823d7275.woff) format("woff"),url(Roboto-Thin.94d67324d95f59e5.ttf) format("truetype"),url(Roboto-Thin.761d85cbad1d4c0a.svg#Roboto) format("svg");font-weight:100;font-style:normal}@font-face{font-family:Roboto;src:url(Roboto-ThinItalic.3c0494ed5066eddf.eot);src:local("Roboto ThinItalic"),local("Roboto-ThinItalic"),url(Roboto-ThinItalic.3c0494ed5066eddf.eot?#iefix) format("embedded-opentype"),url(Roboto-ThinItalic.7d4425d4f9dfbd4d.woff2) format("woff2"),url(Roboto-ThinItalic.72445820525e265f.woff) format("woff"),url(Roboto-ThinItalic.72ab0263ccb0dc3f.ttf) format("truetype"),url(Roboto-ThinItalic.7d3f4f17bca5edb0.svg#Roboto) format("svg");font-weight:100;font-style:italic}@font-face{font-family:Roboto;src:url(Roboto-Light.9cff5f27f6ad3d59.eot);src:local("Roboto Light"),local("Roboto-Light"),url(Roboto-Light.9cff5f27f6ad3d59.eot?#iefix) format("embedded-opentype"),url(Roboto-Light.7117d83fbb0aa28a.woff2) format("woff2"),url(Roboto-Light.2188ea3f3f8ab51a.woff) format("woff"),url(Roboto-Light.5605865fb101be1a.ttf) format("truetype"),url(Roboto-Light.775a1d8f32378e56.svg#Roboto) format("svg");font-weight:300;font-style:normal}@font-face{font-family:Roboto;src:url(Roboto-LightItalic.4a75ae9969c094a3.eot);src:local("Roboto LightItalic"),local("Roboto-LightItalic"),url(Roboto-LightItalic.4a75ae9969c094a3.eot?#iefix) format("embedded-opentype"),url(Roboto-LightItalic.9669ba38989190d7.woff2) format("woff2"),url(Roboto-LightItalic.ead2698c38e2d858.woff) format("woff"),url(Roboto-LightItalic.ccdc52ada30d970f.ttf) format("truetype"),url(Roboto-LightItalic.293a6c412ebb5682.svg#Roboto) format("svg");font-weight:300;font-style:italic}@font-face{font-family:Roboto;src:url(Roboto-Regular.b21a0eefbec4f57f.eot);src:local("Roboto Regular"),local("Roboto-Regular"),url(Roboto-Regular.b21a0eefbec4f57f.eot?#iefix) format("embedded-opentype"),url(Roboto-Regular.e64b7e5db276537f.woff2) format("woff2"),url(Roboto-Regular.2313f68c10458709.woff) format("woff"),url(Roboto-Regular.b796ce65a81adc41.ttf) format("truetype"),url(Roboto-Regular.18c20975d2f2578c.svg#Roboto) format("svg");font-weight:400;font-style:normal}@font-face{font-family:Roboto;src:url(Roboto-RegularItalic.e6e0d5b40d74c833.eot);src:local("Roboto RegularItalic"),local("Roboto-RegularItalic"),url(Roboto-RegularItalic.e6e0d5b40d74c833.eot?#iefix) format("embedded-opentype"),url(Roboto-RegularItalic.d448549043fc24e3.woff2) format("woff2"),url(Roboto-RegularItalic.6c93c3855305929c.woff) format("woff"),url(Roboto-RegularItalic.c6469a92f47f72b9.ttf) format("truetype"),url(Roboto-RegularItalic.f83754e74962d444.svg#Roboto) format("svg");font-weight:400;font-style:italic}@font-face{font-family:Roboto;src:url(Roboto-Medium.9a9c9421bcdef79c.eot);src:local("Roboto Medium"),local("Roboto-Medium"),url(Roboto-Medium.9a9c9421bcdef79c.eot?#iefix) format("embedded-opentype"),url(Roboto-Medium.31c42d9dbee477e5.woff2) format("woff2"),url(Roboto-Medium.769ea541b3eef14d.woff) format("woff"),url(Roboto-Medium.03501557d620ee6b.ttf) format("truetype"),url(Roboto-Medium.8a59a67632175b0b.svg#Roboto) format("svg");font-weight:500;font-style:normal}@font-face{font-family:Roboto;src:url(Roboto-MediumItalic.eda8bf9be9c607a9.eot);src:local("Roboto MediumItalic"),local("Roboto-MediumItalic"),url(Roboto-MediumItalic.eda8bf9be9c607a9.eot?#iefix) format("embedded-opentype"),url(Roboto-MediumItalic.2b1343b2d0b09b92.woff2) format("woff2"),url(Roboto-MediumItalic.226e2a5000081685.woff) format("woff"),url(Roboto-MediumItalic.ce75fe30feef2519.ttf) format("truetype"),url(Roboto-MediumItalic.b51310a741b5d779.svg#Roboto) format("svg");font-weight:500;font-style:italic}@font-face{font-family:Roboto;src:url(Roboto-Bold.0d2870f5e1759c7a.eot);src:local("Roboto Bold"),local("Roboto-Bold"),url(Roboto-Bold.0d2870f5e1759c7a.eot?#iefix) format("embedded-opentype"),url(Roboto-Bold.6980f6575e8c2cbd.woff2) format("woff2"),url(Roboto-Bold.313d5de65a92aae6.woff) format("woff"),url(Roboto-Bold.ed694f411e0b3a82.ttf) format("truetype"),url(Roboto-Bold.a5d983d959171823.svg#Roboto) format("svg");font-weight:700;font-style:normal}@font-face{font-family:Roboto;src:url(Roboto-BoldItalic.24d4fc9379818f4d.eot);src:local("Roboto BoldItalic"),local("Roboto-BoldItalic"),url(Roboto-BoldItalic.24d4fc9379818f4d.eot?#iefix) format("embedded-opentype"),url(Roboto-BoldItalic.986a9dba772d1a7a.woff2) format("woff2"),url(Roboto-BoldItalic.d0b1358f293918c7.woff) format("woff"),url(Roboto-BoldItalic.e3188bd071401a05.ttf) format("truetype"),url(Roboto-BoldItalic.98e79b0548caa896.svg#Roboto) format("svg");font-weight:700;font-style:italic}@font-face{font-family:Roboto;src:url(Roboto-Black.2a430d2577a70997.eot);src:local("Roboto Black"),local("Roboto-Black"),url(Roboto-Black.2a430d2577a70997.eot?#iefix) format("embedded-opentype"),url(Roboto-Black.710dab121b2a7bc2.woff2) format("woff2"),url(Roboto-Black.06740b883cfa8a2e.woff) format("woff"),url(Roboto-Black.41a719429c37346e.ttf) format("truetype"),url(Roboto-Black.711c7acb0aa346bb.svg#Roboto) format("svg");font-weight:900;font-style:normal}@font-face{font-family:Roboto;src:url(Roboto-BlackItalic.65db2fd69db01cd5.eot);src:local("Roboto BlackItalic"),local("Roboto-BlackItalic"),url(Roboto-BlackItalic.65db2fd69db01cd5.eot?#iefix) format("embedded-opentype"),url(Roboto-BlackItalic.f4307ac32c9ad43b.woff2) format("woff2"),url(Roboto-BlackItalic.fc1832915de70c44.woff) format("woff"),url(Roboto-BlackItalic.ba2ec768f43dbc84.ttf) format("truetype"),url(Roboto-BlackItalic.26186c8936090567.svg#Roboto) format("svg");font-weight:900;font-style:italic}@charset "UTF-8";:root{--blue:#007bff;--indigo:#6610f2;--purple:#6f42c1;--pink:#e83e8c;--red:#dc3545;--orange:#fd7e14;--yellow:#ffc107;--green:#28a745;--teal:#20c997;--cyan:#17a2b8;--white:#fff;--gray:#6c757d;--gray-dark:#343a40;--primary:#007bff;--secondary:#6c757d;--success:#28a745;--info:#17a2b8;--warning:#ffc107;--danger:#dc3545;--light:#f8f9fa;--dark:#343a40;--breakpoint-xs:0;--breakpoint-sm:576px;--breakpoint-md:768px;--breakpoint-lg:992px;--breakpoint-xl:1200px;--font-family-sans-serif:-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", "Liberation Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";--font-family-monospace:SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace}*,*:before,*:after{box-sizing:border-box}html{font-family:sans-serif;line-height:1.15;-webkit-text-size-adjust:100%;-webkit-tap-highlight-color:rgba(0,0,0,0)}body{margin:0;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif,"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol,"Noto Color Emoji";font-size:1rem;font-weight:400;line-height:1.5;color:#212529;text-align:left;background-color:#fff}img{vertical-align:middle;border-style:none}svg{overflow:hidden;vertical-align:middle}@media print{*,*:before,*:after{text-shadow:none!important;box-shadow:none!important}img{page-break-inside:avoid}@page{size:a3}body{min-width:992px!important}}body{color:#1e1e1e;font-family:"Roboto","Helvetica Neue",Helvetica,Arial sans-serif;font-size:16px;line-height:1.35em;font-weight:400;background:#F8F8F8}html{overflow-y:scroll}</style><link rel="stylesheet" href="styles.5b0c922fd58e1bd5.css" media="all" onload="this.media='all'"><noscript><link rel="stylesheet" href="styles.5b0c922fd58e1bd5.css"></noscript><meta property="og:title" content="Angular-Buch ‚Üí Angular 6 ist da!"><meta name="twitter:title" content="Angular-Buch ‚Üí Angular 6 ist da!"><meta name="description" content="üìô Angular 6 ist da! Am 04. Mai 2018 erschien die neue Major-Version von Angular.
Obwohl das zun√§chst nach komplizierten Upgrades und vielen Breaking Changes klingt, k√∂nnen Sie aufatmen:
Ihre aktuellen Projekte mit Angular 4 oder 5 sind weiterhin lauff√§hig und das Upgrade ist in kurzer Zeit erledigt."><meta property="og:description" content="üìô Angular 6 ist da! Am 04. Mai 2018 erschien die neue Major-Version von Angular.
Obwohl das zun√§chst nach komplizierten Upgrades und vielen Breaking Changes klingt, k√∂nnen Sie aufatmen:
Ihre aktuellen Projekte mit Angular 4 oder 5 sind weiterhin lauff√§hig und das Upgrade ist in kurzer Zeit erledigt."><meta name="twitter:description" content="üìô Angular 6 ist da! Am 04. Mai 2018 erschien die neue Major-Version von Angular.
Obwohl das zun√§chst nach komplizierten Upgrades und vielen Breaking Changes klingt, k√∂nnen Sie aufatmen:
Ihre aktuellen Projekte mit Angular 4 oder 5 sind weiterhin lauff√§hig und das Upgrade ist in kurzer Zeit erledigt."><meta name="twitter:site" content="@angular_buch"><meta property="og:locale" content="de"><meta property="og:type" content="website"><meta property="og:url" content="https://angular-buch.com/blog/2018-05-angular6"><style>.width-6{width:6.5rem}.width-8{width:8rem}.linkImage{margin-right:3px;margin-top:-3px}
</style><style>.content img{max-width:100%}.details-page-autor{margin-top:-110px}.details-thumbnail{margin-bottom:-18px}.details-thumbnail .details-thumbnail-inner{border-bottom:23px solid #dfdede;max-height:300px;overflow:hidden;background-color:#fff;border-radius:4px;display:flex;justify-content:center}.details-thumbnail .details-thumbnail-inner .darken-overlay{display:block;position:absolute;height:300px;width:100%;padding-left:15px;padding-right:15px;padding-bottom:23px}.details-thumbnail .details-thumbnail-inner .darken-overlay div{display:block;position:relative;width:100%;height:100%;background-color:#0003;border-radius:4px 4px 0 0/4px 4px 0px 0px}.details-thumbnail img{width:100%;align-self:center}.video-container{position:relative;padding-bottom:56.25%;padding-top:0;height:0;overflow:hidden;margin-top:2rem;margin-bottom:2rem}.video-container iframe,.video-container object,.video-container embed{position:absolute;top:0;left:0;width:100%;height:100%}
</style><style>a[_ngcontent-ska-c14]:link, a[_ngcontent-ska-c14]:visited{text-decoration:underline}a[_ngcontent-ska-c14]:hover, a[_ngcontent-ska-c14]:active{text-decoration:none}</style><meta property="og:image" content="https://website-articles.angular-buch.com/blog/2018-05-angular6/angular6.png"><meta name="twitter:image" content="https://website-articles.angular-buch.com/blog/2018-05-angular6/angular6.png"><meta name="twitter:card" content="summary_large_image"><script>window['ScullyIO']='generated';</script></head>
<body scully-version="0.0.0">
  <app-root ng-version="15.2.2"><header><div class="nav__overlay"></div><div class="container"><div class="row no-gutters align-items-center"><div class="col-6 col-md-2"><a routerlink="/" aria-label="Startseite" href="/"><img src="assets/img/brand.svg" alt="Angular-Buch.com" class="img-fluid" style="height: 40px;"></a></div><div class="col-6 col-md-10"><nav><ul><li><app-link><!----><!----><!----><a routerlinkactive="nav__current" ariacurrentwhenactive="page" href="/"><!----> Buch </a><!----><!----><!----></app-link></li><li><app-link><!----><!----><a routerlinkactive="nav__current" ariacurrentwhenactive="page" href="/blog" class="nav__current" aria-current="page"><!----> Blog </a><!----><!----><!----><!----></app-link></li><li><app-link><!----><!----><a routerlinkactive="nav__current" ariacurrentwhenactive="page" href="/material"><!----> Begleitmaterial </a><!----><!----><!----><!----></app-link></li><li><app-link><!----><!----><a routerlinkactive="nav__current" ariacurrentwhenactive="page" href="/kaufen"><img alt="" class="linkImage ls-is-cached lazyloaded" data-src="assets/img/symbol-basket.svg" src="assets/img/symbol-basket.svg"><!----> Jetzt kaufen </a><!----><!----><!----><!----></app-link></li><li><app-link><!----><a class="order" href="//angular.schule/"><img alt="" class="linkImage ls-is-cached lazyloaded" data-src="assets/img/symbol-group.svg" src="assets/img/symbol-group.svg"><!----> Schulungen </a><!----><!----><!----><!----><!----></app-link></li><!----></ul></nav><a href="/" aria-label="Navigation" class="nav__toggle"><img src="assets/img/symbol-menu.svg" alt=""></a></div></div></div></header><main><router-outlet></router-outlet><app-blog-details><app-hero-header headline="Blog" headlinelink="/blog"><section class="hero hero--smaller"><div class="hero__lines"><div class="container"><div class="row justify-content-between"><div class="col-md-6 col-xs-12"><h1 class="headline__page headline__page--blank headline__page--space-bottom"><a style="color: white;" href="/blog">Blog</a><!----><!----></h1></div><div class="col-5 d-none d-md-block text-center"><img src="assets/img/angular.png" alt="" class="hero__angular--smaller"></div></div></div></div></section><a name="content" id="content"></a></app-hero-header><section class="index index--list blog mt-n5"><div class="index__stripe index__stripe--list"><!----><div class="container"><a name="post" id="post"></a><div class="row details-thumbnail"><div class="col-12"><div class="details-thumbnail-inner"><img alt="" class="img-fluid rounded lazyloaded" data-src="https://website-articles.angular-buch.com/blog/2018-05-angular6/angular6.png" src="https://website-articles.angular-buch.com/blog/2018-05-angular6/angular6.png"><!----></div></div><!----></div><div class="row"><div class="col-12"><div class="index__item index__item--list"><div class="row align-items-top"><div class="col-12 col-sm-3 col-md-2 text-center details-page-autor"><img alt="" class="blog__portrait img-fluid rounded-circle ls-is-cached lazyloaded" data-src="//www.gravatar.com/avatar/be546eb804b80c7e8c1ac0fc082b5463?size=200&amp;rating=pg&amp;d=mm" src="//www.gravatar.com/avatar/be546eb804b80c7e8c1ac0fc082b5463?size=200&amp;rating=pg&amp;d=mm"><span class="blog__author">Angular Buch Team <br><a target="_blank" class="twitter" href="https://twitter.com/angular_buch"> @angular_buch</a> &nbsp; <!----><!----></span></div><div class="col-12 col-sm-9 col-md-10 col-lg-10"><h1 class="blog__headline">Angular 6 ist da!</h1><p class="blog__date">21.05.2018</p><p class="content markdown-body"><p>Angular 6 ist da! Am 04. Mai 2018 erschien die neue Major-Version von Angular.
Obwohl das zun√§chst nach komplizierten Upgrades und vielen Breaking Changes klingt, k√∂nnen Sie aufatmen:
Ihre aktuellen Projekte mit Angular 4 oder 5 sind weiterhin lauff√§hig und das Upgrade ist in kurzer Zeit erledigt.</p>
<p>In diesem Artikel stellen wir Ihnen kurz die Neuerungen vor und aktualisieren das Beispielprojekt "Book Monkey".</p>
<blockquote>
<p><strong>Die Update-Infos f√ºr neuere Versionen von Angular finden Sie in separaten Blogartikeln. Wenn Sie das Update durchf√ºhren m√∂chten, lesen Sie bitte alle Artikel in der gegebenen Reihenfolge.</strong></p>
<ul>
<li><a href="/blog/2018-10-angular7">Angular 7 ist da!</a></li>
<li><a href="/blog/2019-06-angular8">Angular 8 ist da!</a></li>
<li><a href="/blog/2020-02-angular9">Angular 9 ist da!</a></li>
<li><a href="/blog/2020-06-angular10">Angular 10 ist da!</a></li>
<li><a href="/blog/2020-11-angular11">Angular 11 ist da!</a></li>
<li><a href="/blog/2021-06-angular12">Angular 12 ist da!</a></li>
<li><a href="/blog/2021-11-angular13">Angular 13 ist da!</a></li>
<li><a href="/blog/2022-06-angular14">Angular 14 ist da!</a></li>
<li><a href="/blog/2022-11-angular15">Angular 15 ist da!</a></li>
</ul>
</blockquote>
<h2 id="angular-6-alles-ist-neu">Angular 6: Alles ist neu?</h2>
<p>Die Neuerungen in Angular 6 betreffen vor allem Themen aus dem Hintergrund des Frameworks.
An der √∂ffentlichen API von Angular hat sich so gut wie nichts ge√§ndert. Das Upgrade auf Angular 6 ist also ein Kinderspiel.</p>
<p>Die offizielle Ank√ºndigung zum Angular-6-Release finden Sie im
<a href="https://blog.angular.io/version-6-of-angular-now-available-cc56b0efa7a4">Angular-Blog</a>.
F√ºr Details zu einzelnen √Ñnderungen lohnt sich au√üerdem ein Blick in den
<a href="https://github.com/angular/angular/blob/master/CHANGELOG.md">Changelog von Angular</a>.</p>
<p>Beim Update auf Angular 6 hilft der <a href="https://update.angular.io/#5.0:6.0">Angular Update Guide</a>.
Das Tool stellt eine Checkliste und die passenden Befehle f√ºr das Update bereit.</p>
<p>Angular bietet ab sofort folgenden <strong>Long Term Support (LTS)</strong>:</p>
<ul>
<li><strong>Angular 4</strong> ‚Äì 23. September 2018</li>
<li><strong>Angular 5</strong> ‚Äì 1. Mai 2019</li>
<li><strong>Angular 6</strong> ‚Äì 3. November 2019</li>
</ul>
<p>Damit ist gew√§hrleistet, dass aktuelle Angular-Projekte auch langfristig lauff√§hig sind und nicht mit jeder Major-Version zeitnah ein vollst√§ndiges Upgrade durchgef√ºhrt werden muss.</p>
<p>Angular 6 ist √ºbrigens die erste Version von Angular, mit der alle Module die selbe Versionsnummer 6 besitzen.</p>
<h3 id="tree-shakable-providers">Tree-Shakable Providers</h3>
<p>F√ºr jeden Service, den wir in der Anwendung nutzen wollten, mussten wir bisher folgende Schritte gehen:</p>
<ul>
<li>Serviceklasse mit Decorator <code>@Injectable()</code> versehen</li>
<li>Service in einem Modul registrieren (unter <code>providers</code> in einem <code>NgModule</code> eintragen)</li>
<li>Instanz √ºber Constructor Injection anfordern, z.B. in einer Komponente</li>
</ul>
<p>Dieser Weg funktionierte gut, hatte aber einen entscheidenden Nachteil:
Der Service ist immer in einem Modul referenziert, auch wenn er niemals verwendet wird.
Damit wird der Service <em>immer</em> auch in das Bundle unserer Anwendung eingebaut.</p>
<p>Mit Angular 6 kommt das Konzept der <em>Tree-Shakable Providers</em> ins Spiel.
Anstatt den Service explizit im Modul zu deklarieren, registriert sich der Service ab sofort eigenst√§ndig in einem Modul.
Dazu ist der Schl√ºssel <code>providedIn</code> im <code>@Injectable()</code>-Decorator zust√§ndig:</p>
<pre><code class="language-ts">@Injectable({ providedIn: <span class="hljs-string">'root'</span> })
<span class="hljs-keyword">export</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">BookStoreService</span> {}</span>
</code></pre>
<p>In 99 % der F√§lle wird hier der Wert <code>root</code> verwendet.
Dieser Service wird nur dann in das Application-Bundle √ºbernommen, wenn er auch von einer Komponente angefordert wird.</p>
<p>F√ºr einen tieferen Einblick in Tree-Shakable Providers sei der passende <a href="https://www.softwarearchitekt.at/post/2018/05/06/the-new-treeshakable-providers-api-in-angular-why-how-and-cycles.aspx">Blogartikel von Manfred Steyer</a> empfohlen.</p>
<h3 id="angular-cli-6">Angular CLI 6</h3>
<p>Die Angular CLI wurde mit ihrer neuen Version grundlegend √ºberarbeitet.
Grundlage der Code-Generierung sind die sogenannten <strong>Schematics</strong>. Dabei handelt es sich um "Baupl√§ne" zur Code-Generierung und -Aktualisierung.
Jeder Aufruf von <code>ng generate</code> triggert die darunterliegenden Schematics.
Das System ist so strukturiert, dass auch eigene Schematics zur Codeerzeugung eingebunden werden k√∂nnen.
Viele Drittanbieter-Bibliotheken integrieren bereits entsprechende Bauanleitungen in ihre Projekte.</p>
<p>F√ºr einen Deep-Dive in die Welt der Schematics k√∂nnen wir das <a href="https://leanpub.com/angular-schematics">kostenlose E-Book von Manfred Steyer</a> empfehlen.</p>
<h4 id="workspaces-und-angularjson">Workspaces und <code>angular.json</code></h4>
<p>Die Angular CLI setzt ab sofort auf das Konzept der <em>Workspaces</em>. Ein mit <code>ng new</code> generiertes Projekt ist nun nicht mehr nur eine einzige Anwendung, sondern ein Arbeitsbereich, in dem mehrere Anwendungen und Bibiotheken zusammen entwickelt werden.
Durch das <a href="https://github.com/angular/angular-cli/wiki/stories-create-library">neue Library-Feature</a> kann wiederverwendbarer Code in gemeinsam genutzte Bibliotheken ausgelagert werden.</p>
<p>Verschiedene Anwendungen innerhalb eines Workspaces k√∂nnen sein z.B.</p>
<ul>
<li>nach Kundenwunsch angepasste Versionen einer Anwendung (siehe auch unser Blogartikel <a href="https://angular.schule/blog/2018-05-one-app-per-customer">"One App per Customer"</a>)</li>
<li>die Browser-, Desktop- und Mobilversion einer Anwendung</li>
</ul>
<p>Um diese neue Projektstruktur abzubilden, wurde eine neue Konfigurationsdatei geschaffen.
<strong>Die neue <code>angular.json</code> l√∂st die bisherige <code>.angular-cli.json</code> ab!</strong>
Die Struktur innerhalb der Datei hat sich stark ge√§ndert, viele der Optionen sind aber trotzdem wiederzufinden und funktionieren genauso wie vorher.
Die wichtigsten Punkte, die wir auch im Buch verwenden, haben wir hier gesammelt:</p>
<ul>
<li>Das <code>styles</code>-Array zum Einbinden zus√§tzlicher externer Stylesheets (Kapitel 5, Seite 60) ist jetzt zu finden unter <code>projects &gt; book-monkey &gt; architect &gt; build &gt; options &gt; styles</code>.</li>
<li>F√ºr die standardm√§√üige Style-Extension und f√ºr generelle Inline-Styles (Kapitel 5, Seite 60) gibt es keine einfach zu findende Option mehr in der <code>angular.json</code>. Wenn wir die entsprechenden Optionen schon beim Erstellen des Projekts angeben, werden sie aber in die <code>angular.json</code> √ºbernommen: <code>ng new my-project --style=scss --inline-style</code></li>
<li>Die Environments (Kapitel 18, Seite 409) hei√üen jetzt <code>configurations</code>. Die Environment-Files liegen weiterhin im Ordner <code>src/environments</code>. Zus√§tzlich befinden sich aber in der <code>angular.json</code> zus√§tzliche Einstellungsm√∂glichkeiten, die wir bisher mit einzelnen Kommandozeilenparametern steuern mussten. Um eine Konfiguration beim Build zu verwenden, ist der folgende Befehl n√∂tig: <code>ng build --configuration=production</code>. Die Kurzform <code>ng build --prod</code> existiert weiterhin, muss aber jetzt immer mit zwei Minuszeichen angef√ºhrt werden (nicht <code>-prod</code>).</li>
</ul>
<p>Sollten Ihnen noch weitere Unterschiede zum Buch auffallen, sind wir √ºber einen Hinweis dankbar ‚Äì wir nehmen gern weitere Punkte in die Liste auf.</p>
<h4 id="ng-update"><code>ng update</code></h4>
<p>Der neue Befehl <code>ng update</code> bringt ein Feature in die CLI, das wir uns schon lange gew√ºnscht haben:
ein automatisches Update der Anwendung.
Auch diese Toolchain basiert auf Schematics: Darin sind Vorschriften verpackt, wie ein Projekt und seine Abh√§ngigkeiten auf die n√§chsth√∂here Version aktualisiert werden m√ºssen.
Das Update von Angular 5 auf 6 funktioniert also vollautomatisch.
Weiter unten in diesem Artikel gehen wir noch auf den konkreten Ablauf anhand des Book Monkey ein.</p>
<h4 id="ng-add"><code>ng add</code></h4>
<p>Neu ist auch der Befehl <code>ng add</code>, mit dem neue Funktionalit√§ten zur bestehenden Anwendung hinzugef√ºgt werden k√∂nnen.
Dabei handelt es sich nicht um einzelne Artefakte wie Komponenten, sondern grundlegende globale Funktionalit√§ten.</p>
<pre><code class="language-bash"><span class="hljs-comment"># Angular Material</span>
ng <span class="hljs-builtin-name">add</span> @angular/material

<span class="hljs-comment"># Toolkit f√ºr Progressive Web App</span>
ng <span class="hljs-builtin-name">add</span> @angular/pwa

<span class="hljs-comment"># Kendo UI for Angular (Beispiel)</span>
ng <span class="hljs-builtin-name">add</span> @progress/kendo-angular-inputs
</code></pre>
<p>mit <code>ng add</code> wird nicht nur das passende NPM-Paket installiert, sondern es werden Schematics ausgef√ºhrt, die den Projektcode anpassen und die neue Funktionalit√§t direkt in das Projekt integrieren.</p>
<h3 id="rxjs-6">RxJS 6</h3>
<p>Die Reactive Extensions for JavaScript (RxJS) bilden die Grundlage f√ºr reaktive Programmierung mit Angular.
RxJS erschien fast zeitgleich mit Angular ebenfalls in der neuen Version 6.
Damit k√∂nnen die alten Operatoren mit Dot-Chaining nicht mehr verwendet werden, sondern es werden durchgehend Pipeable Operators eingesetzt.
Dieses Thema ist allerdings nicht neu, sondern wir haben bereits mit dem Upgrade auf Angular 5 empfohlen, auf Pipeable Operators umzusteigen.
Siehe dazu auch der <a href="/blog/2017-12-angular5#rxjs-pipeable-operators-ehemals-lettable-">Artikel zum Upgrade auf Angular 5</a>.</p>
<p>RxJS-Operatoren werden ab jetzt nur noch wie folgt verwendet:</p>
<pre><code class="language-ts">myObservable<span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">$</span>.</span></span>pipe(
  map(e =&gt; e.id),
  filter(id =&gt; id.length &gt; <span class="hljs-number">5</span>),
  merge<span class="hljs-constructor">Map(<span class="hljs-params">id</span> =&gt; <span class="hljs-params">this</span>.<span class="hljs-params">bs</span>.<span class="hljs-params">getSingle</span>(<span class="hljs-params">id</span>)</span>)
)
</code></pre>
<p>Um Abw√§rtskompatibilit√§t zu wahren, wird zus√§tzlich das Paket <a href="https://www.npmjs.com/package/rxjs-compat"><code>rxjs-compat</code></a> bereitgestellt.
Nachdem alle Abh√§ngigkeiten auf RxJS 6 aktualisiert wurden, sollten Sie dieses Paket entfernen. Das spart Platz.</p>
<h3 id="angular-elements">Angular Elements</h3>
<p>In Version 6 ist auch das erste Release der Angular Elements enthalten.
Dieses Modul erm√∂glicht es uns, Angular-Komponenten als Webkomponenten zu verpacken und zu nutzen.
Damit k√∂nnen wir Angular-Komponenten auch au√üerhalb von Angular in jeder Anwendung einsetzen.</p>
<p>F√ºr einen Einstieg in das Thema verweisen wir auf die <a href="https://angular.io/guide/elements">Dokumentation von Angular</a>.</p>
<h2 id="book-monkey-updaten">Book Monkey updaten</h2>
<p>Jetzt geht es ans Eingemachte: Mit dem Wissen √ºber die neuen Features von Angular wollen wir den Book Monkey aktualisieren.
Mit dem neuen Befehl <code>ng update</code> wird das Update sehr einfach.
Wir empfehlen Ihnen immer den Einstieg √ºber den offiziellen <a href="https://update.angular.io/">Angular Update Guide</a>.</p>
<p>Los geht es im Ordner <code>book-monkey</code>:</p>
<pre><code><span class="hljs-built_in">cd</span> book-monkey
</code></pre>
<p>Bitte √ºberpr√ºfen Sie zur Sicherheit doppelt, am besten mit <code>dir</code> (Windows) oder <code>ls</code> (Linux/Mac), dass Sie im richtigen Verzeichnis sind.</p>
<h3 id="vorab-npm-fr√ºhjahrsputz">Vorab: NPM Fr√ºhjahrsputz</h3>
<p>Als Grundlage f√ºr diese Anleitung haben wir den <a href="/blog/2017-12-book-monkey-upgrade">aktualisierten Book Monkey vom Dezember 2017</a> verwendet.
Das hei√üt, wir sind schon auf Anguar 5 und nutzen die neue <code>package-lock.json</code>, welche mit NPM 5 hinzu gekommen ist.</p>
<p>Wir haben drei Fehler ausgemacht, die beide mit der NPM-Installation zusammen h√§ngen.
Sollte es zu einem Fehler kommen, so scrollen Sie bitte nach ganz unten.
Wollen Sie den Fehler gleich vermeiden, so l√∂schen Sie beherzt die Datei <code>package-lock.json</code>.</p>
<h3 id="abh√§ngigkeiten-aktualisieren-mit-ng-update">Abh√§ngigkeiten aktualisieren mit <code>ng update</code></h3>
<p>F√ºr das Update unserer Anwendung sind folgende Befehle n√∂tig:</p>
<pre><code class="language-bash"># Angular <span class="hljs-keyword">CLI</span> <span class="hljs-keyword">global</span> aktualisieren
npm install -<span class="hljs-keyword">g</span> @angular/<span class="hljs-keyword">cli</span>

# Angular <span class="hljs-keyword">CLi</span> lokal im Projekt aktualisieren
npm install @angular/<span class="hljs-keyword">cli</span>

# Eigentlich nicht noch einmal notwendig,
# aber siehe Troubleshooter 2 &amp; 3
npm install @angular/<span class="hljs-keyword">cli</span>

# Zur Kontrolle, die lokale <span class="hljs-keyword">Version</span> muss 1.7.4 sein
# Diese Warnung ist OK: Your <span class="hljs-keyword">global</span> Angular <span class="hljs-keyword">CLI</span> <span class="hljs-keyword">version</span> (6.x.x) is greater than your <span class="hljs-keyword">local</span> <span class="hljs-keyword">version</span> (1.7.4).
# Diese Warnung nicht OK: Your <span class="hljs-keyword">global</span> Angular <span class="hljs-keyword">CLI</span> <span class="hljs-keyword">version</span> (6.x.x) is greater than your <span class="hljs-keyword">local</span> <span class="hljs-keyword">version</span> (1.5.4).
ng -v

# <span class="hljs-keyword">Update</span>!
ng <span class="hljs-keyword">update</span> @angular/<span class="hljs-keyword">cli</span>
</code></pre>
<p>Je nach der vorherigen Projekt-Version erscheint folgende Meldung:</p>
<blockquote>
<p>The Angular CLI configuration format has been changed, and your existing configuration can be updated automatically by running the following command:
<code>ng update @angular/cli</code></p>
</blockquote>
<p>Der Hinweis ist eindeutig. Also noch einmal:</p>
<pre><code class="language-bash">ng <span class="hljs-keyword">update</span> @angular/<span class="hljs-keyword">cli</span>
</code></pre>
<p>Und zum Schluss fehlt nur noch ein:</p>
<pre><code class="language-bash">ng update <span class="hljs-meta">@angular</span>/core
</code></pre>
<h3 id="rxjs-6-1">RxJS 6</h3>
<p>Die Aktualisierung von RxJS hat ein eigenes Tool:</p>
<pre><code class="language-bash">npm install -g rxjs-tslint
rxjs-<span class="hljs-number">5</span>-<span class="hljs-selector-tag">to</span>-<span class="hljs-number">6</span>-migrate -<span class="hljs-selector-tag">p</span> <span class="hljs-attribute">src</span>/tsconfig<span class="hljs-selector-class">.app</span><span class="hljs-selector-class">.json</span>
</code></pre>
<p>Sollten Sie noch irgendwo die alten RxJS-Operatoren statt der Pipeable Operators verwenden,
so werden diese automatisch mittels <code>rxjs-compat</code> weiterhin laufen.
Wenn Sie keine Pipeable Operators mehr verwenden und auch keine Drittabieterbibliotheken mehr darauf basieren, k√∂nnen und sollten Sie das Paket <code>rxjs-compat</code> entfernen.</p>
<p>In unserem Fall war schon alles auf Pipeable Operators umgestellt und <code>rxjs-compat</code> wurde nicht hinzugef√ºgt, weswegen wir es auch nicht entfernen mussten.</p>
<p>Unser Projekt ist wieder auf dem aktuellsten Stand ‚Äì und das in wenigen automatisierten Schritten!
Sollten wir einen Schritt bzw. einen Fall √ºbersehen haben, so schreiben Sie uns bitte an <strong><a href="mailto:team@angular-buch.com">team@angular-buch.com</a></strong> oder senden Sie doch gleich einen <a href="https://github.com/angular-buch/website-articles/blob/gh-pages/blog/2018-05-angular6/README.md">pull request</a>.</p>
<h3 id="tree-shakable-providers-1">Tree-Shakable Providers</h3>
<p>Der <code>BookStoreService</code> wird im Moment explizit im <code>AppModule</code> provided.
Dieser Weg wird auch weiterhin unterst√ºtzt.
M√∂chten Sie den Service trotzdem auf den neuen <em>tree-shakable</em> Weg migrieren, sind folgende Schritte n√∂tig:</p>
<h4 id="1-providedin-im-service-hinzuf√ºgen">1.) <code>providedIn</code> im Service hinzuf√ºgen</h4>
<pre><code class="language-ts"><span class="hljs-meta">@Injectable</span>({ providedIn: <span class="hljs-string">'root'</span> })
<span class="hljs-keyword">export</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">BookStoreService</span> </span>{
  <span class="hljs-comment">// ...</span>
}
</code></pre>
<h4 id="2-referenz-und-import-aus-dem-appmodule-entfernen">2.) Referenz und Import aus dem <code>AppModule</code> entfernen</h4>
<pre><code class="language-ts">// <span class="hljs-keyword">import</span> { BookStoreService } <span class="hljs-keyword">from</span> <span class="hljs-string">'./shared/book-store.service'</span>; &lt;<span class="hljs-comment">-- entfernen</span>

@NgModule({
  // ...
  <span class="hljs-name">providers</span>: [
    // BookStoreService, &lt;<span class="hljs-comment">-- entfernen</span>
    BookResolver
  ]
})
<span class="hljs-keyword">export</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">AppModule</span> {}</span>
</code></pre>
<hr>


<p><strong>Wir w√ºnschen Ihnen viel Spa√ü mit Angular 6 und beim Lesen unseres Buchs! Haben Sie Fragen? Schreiben Sie uns!</strong></p>
<ul>
<li><strong>Danny, Ferdinand und Johannes</strong></li>
</ul>
<br>
<br>
----

<h3 id="troubleshooter-1---error-cannot-find-module-true-case-path">Troubleshooter 1 - <code>Error: Cannot find module 'true-case-path'</code></h3>
<p>Bei unserem Setup (NPM 5 mit <code>package-lok.json</code>) ist uns aufgefallen, dass ein normales <code>npm install</code> nicht mehr funktioniert:</p>
<pre><code class="language-bash">npm <span class="hljs-keyword">install</span>
</code></pre>
<p><strong>Fehlermeldung:</strong></p>
<pre><code class="language-bash">&gt; node-sass@4.7.2 install /angular-buch/iteration<span class="hljs-string">-7</span>-i18n/node_modules/node-sass
&gt; node scripts/install.js

module.js:557
    throw err;
    ^

<span class="hljs-keyword">Error: </span>Cannot find module 'true-case-path'
</code></pre>
<p>Das ist etwas √§rgerlich, aber leicht behoben.
√úbelt√§ter ist die Datei <code>package-lock.json</code>.
Die Aufgabe der Datei ist es, einen "Schnappschuss" von einer funktionierenden Kombination an NPM-Paketen zu machen.
Beim Upgraden kann dies f√ºrchterlich hinderlich sein.
Hier wollen wir von allen Paketen nat√ºrlich den neuesten Stand - und nicht einen Stand mit neuesten und nicht ganz so neuen Paketen.
Daher kann die Lock-Datei gel√∂scht werden, sie wird beim n√§chsten <code>npm install</code> sowieso wieder erstellt:</p>
<ol>
<li><code>package-lock.json</code> l√∂schen</li>
<li><code>node_modules</code> l√∂schen (zur Sicherheit)</li>
<li><code>npm install</code> - sollte jetzt problemlos durchlaufen</li>
</ol>
<p><a href="https://stackoverflow.com/a/48322891">Laut Stack Overflow</a> sollte es ebenso ausreichen, node.js und NPM auf den allerneusten Stand zu bringen.</p>
<h3 id="troubleshooter-2---error-cannot-find-module-angular-devkitcore">Troubleshooter 2 - <code>Error: Cannot find module '@angular-devkit/core'</code></h3>
<p>Beim zweiten uns bekannten Fehler funktioniert das Upgraden des Projekts nicht richtig.
Wir danken unseren Leser Jens f√ºr den Hinweis!</p>
<pre><code class="language-bash"><span class="hljs-built_in">npm</span> install
<span class="hljs-built_in">npm</span> install @angular/cli
ng update @angular/cli
</code></pre>
<p><strong>Fehlermeldung:</strong></p>
<pre><code class="language-bash">module.js:557
    throw err;
    ^

<span class="hljs-keyword">Error: </span>Cannot find module '@angular-devkit/core'
</code></pre>
<p>Dieser <a href="https://github.com/angular/angular-cli/issues/9307">Bug</a> ist mit √ºber 100 Kommentaren sehr popul√§r.
Wir konnten diesen Bug reproduzieren und haben eine <a href="https://github.com/angular/angular-cli/issues/9307#issuecomment-396081033">sehr simple L√∂sung</a> gefunden.
Bitte einfach <strong>noch einmal</strong> ausf√ºhren:</p>
<pre><code><span class="hljs-built_in">npm</span> install @angular/cli
</code></pre>
<p>Schon ist das vermisste NPM-Paket <code>@angular-devkit/core</code> wieder da.</p>
<h3 id="troubleshooter-3---the-specified-command-update-is-invalid">Troubleshooter 3 - <code>The specified command update is invalid.</code></h3>
<p>In √§lteren Projekten fand sich in der <code>package.json</code> folgende Angabe:</p>
<pre><code>  <span class="hljs-string">"devDependencies"</span>: {
    <span class="hljs-string">"@angular/cli"</span>: <span class="hljs-string">"1.5.4"</span>
</code></pre>
<p>Mittlerweile schreibt man hier stets ein Zirkumflex <strong>^</strong> hinein.
<strong>Warum?</strong> Weil das <code>npm install @angular/cli</code> die Version nicht auf 1.7.4 bringen wird, sondern bei v1.5.4 bleibt.
<strong>Problem:</strong> Erst mit der <a href="https://github.com/angular/angular-cli/releases/tag/v1.7.0">v1.7.0</a> wurde der <code>ng update</code> eingef√ºhrt.</p>
<p>Der Befehl:</p>
<pre><code class="language-bash">ng <span class="hljs-keyword">update</span> @angular/<span class="hljs-keyword">cli</span>
</code></pre>
<p>f√ºhrt dann nat√ºrlich zu folgender <strong>Fehlermeldung:</strong></p>
<pre><code class="language-bash">Your <span class="hljs-keyword">global</span> Angular CLI version (<span class="hljs-number">6.0</span><span class="hljs-number">.8</span>) <span class="hljs-keyword">is</span> greater than your <span class="hljs-keyword">local</span>
version (<span class="hljs-number">1.5</span><span class="hljs-number">.4</span>). The <span class="hljs-keyword">local</span> Angular CLI <span class="hljs-keyword">version</span> <span class="hljs-keyword">is</span> used.

<span class="hljs-keyword">To</span> <span class="hljs-keyword">disable</span> this <span class="hljs-built_in">warning</span> use "ng config -g cli.warnings.versionMismatch false".
The specified command <span class="hljs-keyword">update</span> <span class="hljs-keyword">is</span> invalid. <span class="hljs-keyword">For</span> available <span class="hljs-keyword">options</span>, see `ng help`.
</code></pre>
<p>Allerdings steht nach der ersten Ausf√ºhrung von <code>npm install @angular/cli</code> nun Folgendes in der <code>package.json</code>:</p>
<pre><code>  <span class="hljs-string">"devDependencies"</span>: {
    <span class="hljs-string">"@angular/cli"</span>: <span class="hljs-string">"^1.5.4"</span>
</code></pre>
<p> Ein erneutes <code>npm install @angular/cli</code> bringt uns nun endlich auf die gew√ºnschte v1.7.4.</p>
</p><!----><!----><a routerlink="/blog" ripple-radius="" class="btn btn-sm btn-primary mt-4" href="/blog"><i class="fa fa-backward mr-2"></i> Zur√ºck</a><hr> Suggestions? Feedback? Bugs? Please <a target="_blank" class="content" href="https://github.com/angular-buch/website-articles/blob/gh-pages/blog/2018-05-angular6/README.md"><i class="fa fa-github mr-1" style="font-size: 1.6rem; position: relative; bottom: -3px;"></i>fork/edit this page on Github</a>. </div></div></div></div></div><!----></div><!----></div></section><ngx-json-ld><script type="application/ld+json">{
  "url": "https://angular.schule/blog/2018-05-angular6",
  "headline": "Angular 6 ist da!",
  "description": "Angular 6 ist da! Am 04. Mai 2018 erschien die neue Major-Version von Angular.\nObwohl das zun√§chst nach komplizierten Upgrades und vielen Breaking Changes klingt, k√∂nnen Sie aufatmen:\nIhre aktuellen Projekte mit Angular 4 oder 5 sind weiterhin lauff√§hig und das Upgrade ist in kurzer Zeit erledigt.",
  "datePublished": "2018-05-21",
  "dateModified": "2018-05-21",
  "publisher": {
    "name": "Angular-Buch",
    "url": "https://angular-buch.com",
    "@type": "Organization",
    "logo": {
      "@type": "ImageObject",
      "url": "https://angular-buch.com/assets/img/brand_export.png"
    }
  },
  "image": "https://website-articles.angular-buch.com/blog/2018-05-angular6/angular6.png",
  "thumbnailUrl": "https://website-articles.angular-buch.com/blog/2018-05-angular6/angular6.png",
  "author": {
    "@type": "Person",
    "name": "Angular Buch Team",
    "email": "team@angular-buch.com"
  },
  "keywords": [
    "Angular",
    "Angular 6",
    "RxJS",
    "Tree-Shakable Providers",
    "Angular CLI"
  ],
  "mainEntityOfPage": "http://schema.org/WebPage",
  "@type": "Article",
  "@context": "http://schema.org"
}</script></ngx-json-ld></app-blog-details><!----><footer><div class="container"><div class="row align-items-center"><div class="col-sm-9"><div class="links"><app-link><!----><!----><!----><a routerlinkactive="nav__current" ariacurrentwhenactive="page" class="links__item" href="/"><!----> Home </a><!----><!----><!----></app-link>|<!----><app-link><!----><!----><a routerlinkactive="nav__current" ariacurrentwhenactive="page" class="links__item" href="/impressum"><!----> Impressum </a><!----><!----><!----><!----></app-link>|<!----><app-link><!----><!----><a routerlinkactive="nav__current" ariacurrentwhenactive="page" class="links__item" href="/datenschutz"><!----> Datenschutzerkl√§rung </a><!----><!----><!----><!----></app-link>|<!----><app-link><!----><a class="links__item links__twitter" href="https://twitter.com/angular_buch" rel="nofollow"><!----> Twitter </a><!----><!----><!----><!----><!----></app-link><!----><!----></div></div><div class="col-sm-3 text-right"></div></div></div></footer></main><ngx-json-ld><script type="application/ld+json"></script></ngx-json-ld><ngx-json-ld><script type="application/ld+json"></script></ngx-json-ld></app-root>
<script src="runtime.9aeea2ed5eda4fcf.js" type="module"></script><script src="polyfills.bde724c776b9c954.js" type="module"></script><script src="main.f59bd851d3595471.js" type="module"></script>

</body></html>