<!DOCTYPE html><html><head lang="de" prefix="og: http://ogp.me/ns# book: http://ogp.me/ns/book#"><meta name="generator" content="Scully 0.0.0">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="icon" type="image/x-icon" href="favicon.ico">

  <title>Angular-Buch â†’ Angular 4.3: Der neue HttpClient</title>
  

  

  <meta property="book:author" content="https://www.facebook.com/ferdinand.malcher">
  <meta property="book:author" content="https://www.facebook.com/johannes.hoppe">
  <meta property="book:author" content="https://www.facebook.com/dannykoppenhagen">

  <meta property="book:isbn" content="9783864909467">
  <meta property="book:release_date" content="2023-02-28">
  <meta property="book:tag" content="Angular">
  <meta property="book:tag" content="Webentwicklung">
  <meta property="book:tag" content="AngularJS">
  <meta property="book:tag" content="TypeScript">
  <meta property="book:tag" content="JavaScript">
  <meta property="book:tag" content="HTML5">
  <meta property="book:tag" content="CSS">
  <meta property="book:tag" content="RxJS">
  <meta property="book:tag" content="Redux">
  <meta property="book:tag" content="NgRx">

  <base href="/">
<style>@font-face{font-family:Roboto;src:url(Roboto-Thin.3025beb410a67d09.eot);src:local("Roboto Thin"),local("Roboto-Thin"),url(Roboto-Thin.3025beb410a67d09.eot?#iefix) format("embedded-opentype"),url(Roboto-Thin.a529f43f8b43a41b.woff2) format("woff2"),url(Roboto-Thin.0cfb6189823d7275.woff) format("woff"),url(Roboto-Thin.94d67324d95f59e5.ttf) format("truetype"),url(Roboto-Thin.761d85cbad1d4c0a.svg#Roboto) format("svg");font-weight:100;font-style:normal}@font-face{font-family:Roboto;src:url(Roboto-ThinItalic.3c0494ed5066eddf.eot);src:local("Roboto ThinItalic"),local("Roboto-ThinItalic"),url(Roboto-ThinItalic.3c0494ed5066eddf.eot?#iefix) format("embedded-opentype"),url(Roboto-ThinItalic.7d4425d4f9dfbd4d.woff2) format("woff2"),url(Roboto-ThinItalic.72445820525e265f.woff) format("woff"),url(Roboto-ThinItalic.72ab0263ccb0dc3f.ttf) format("truetype"),url(Roboto-ThinItalic.7d3f4f17bca5edb0.svg#Roboto) format("svg");font-weight:100;font-style:italic}@font-face{font-family:Roboto;src:url(Roboto-Light.9cff5f27f6ad3d59.eot);src:local("Roboto Light"),local("Roboto-Light"),url(Roboto-Light.9cff5f27f6ad3d59.eot?#iefix) format("embedded-opentype"),url(Roboto-Light.7117d83fbb0aa28a.woff2) format("woff2"),url(Roboto-Light.2188ea3f3f8ab51a.woff) format("woff"),url(Roboto-Light.5605865fb101be1a.ttf) format("truetype"),url(Roboto-Light.775a1d8f32378e56.svg#Roboto) format("svg");font-weight:300;font-style:normal}@font-face{font-family:Roboto;src:url(Roboto-LightItalic.4a75ae9969c094a3.eot);src:local("Roboto LightItalic"),local("Roboto-LightItalic"),url(Roboto-LightItalic.4a75ae9969c094a3.eot?#iefix) format("embedded-opentype"),url(Roboto-LightItalic.9669ba38989190d7.woff2) format("woff2"),url(Roboto-LightItalic.ead2698c38e2d858.woff) format("woff"),url(Roboto-LightItalic.ccdc52ada30d970f.ttf) format("truetype"),url(Roboto-LightItalic.293a6c412ebb5682.svg#Roboto) format("svg");font-weight:300;font-style:italic}@font-face{font-family:Roboto;src:url(Roboto-Regular.b21a0eefbec4f57f.eot);src:local("Roboto Regular"),local("Roboto-Regular"),url(Roboto-Regular.b21a0eefbec4f57f.eot?#iefix) format("embedded-opentype"),url(Roboto-Regular.e64b7e5db276537f.woff2) format("woff2"),url(Roboto-Regular.2313f68c10458709.woff) format("woff"),url(Roboto-Regular.b796ce65a81adc41.ttf) format("truetype"),url(Roboto-Regular.18c20975d2f2578c.svg#Roboto) format("svg");font-weight:400;font-style:normal}@font-face{font-family:Roboto;src:url(Roboto-RegularItalic.e6e0d5b40d74c833.eot);src:local("Roboto RegularItalic"),local("Roboto-RegularItalic"),url(Roboto-RegularItalic.e6e0d5b40d74c833.eot?#iefix) format("embedded-opentype"),url(Roboto-RegularItalic.d448549043fc24e3.woff2) format("woff2"),url(Roboto-RegularItalic.6c93c3855305929c.woff) format("woff"),url(Roboto-RegularItalic.c6469a92f47f72b9.ttf) format("truetype"),url(Roboto-RegularItalic.f83754e74962d444.svg#Roboto) format("svg");font-weight:400;font-style:italic}@font-face{font-family:Roboto;src:url(Roboto-Medium.9a9c9421bcdef79c.eot);src:local("Roboto Medium"),local("Roboto-Medium"),url(Roboto-Medium.9a9c9421bcdef79c.eot?#iefix) format("embedded-opentype"),url(Roboto-Medium.31c42d9dbee477e5.woff2) format("woff2"),url(Roboto-Medium.769ea541b3eef14d.woff) format("woff"),url(Roboto-Medium.03501557d620ee6b.ttf) format("truetype"),url(Roboto-Medium.8a59a67632175b0b.svg#Roboto) format("svg");font-weight:500;font-style:normal}@font-face{font-family:Roboto;src:url(Roboto-MediumItalic.eda8bf9be9c607a9.eot);src:local("Roboto MediumItalic"),local("Roboto-MediumItalic"),url(Roboto-MediumItalic.eda8bf9be9c607a9.eot?#iefix) format("embedded-opentype"),url(Roboto-MediumItalic.2b1343b2d0b09b92.woff2) format("woff2"),url(Roboto-MediumItalic.226e2a5000081685.woff) format("woff"),url(Roboto-MediumItalic.ce75fe30feef2519.ttf) format("truetype"),url(Roboto-MediumItalic.b51310a741b5d779.svg#Roboto) format("svg");font-weight:500;font-style:italic}@font-face{font-family:Roboto;src:url(Roboto-Bold.0d2870f5e1759c7a.eot);src:local("Roboto Bold"),local("Roboto-Bold"),url(Roboto-Bold.0d2870f5e1759c7a.eot?#iefix) format("embedded-opentype"),url(Roboto-Bold.6980f6575e8c2cbd.woff2) format("woff2"),url(Roboto-Bold.313d5de65a92aae6.woff) format("woff"),url(Roboto-Bold.ed694f411e0b3a82.ttf) format("truetype"),url(Roboto-Bold.a5d983d959171823.svg#Roboto) format("svg");font-weight:700;font-style:normal}@font-face{font-family:Roboto;src:url(Roboto-BoldItalic.24d4fc9379818f4d.eot);src:local("Roboto BoldItalic"),local("Roboto-BoldItalic"),url(Roboto-BoldItalic.24d4fc9379818f4d.eot?#iefix) format("embedded-opentype"),url(Roboto-BoldItalic.986a9dba772d1a7a.woff2) format("woff2"),url(Roboto-BoldItalic.d0b1358f293918c7.woff) format("woff"),url(Roboto-BoldItalic.e3188bd071401a05.ttf) format("truetype"),url(Roboto-BoldItalic.98e79b0548caa896.svg#Roboto) format("svg");font-weight:700;font-style:italic}@font-face{font-family:Roboto;src:url(Roboto-Black.2a430d2577a70997.eot);src:local("Roboto Black"),local("Roboto-Black"),url(Roboto-Black.2a430d2577a70997.eot?#iefix) format("embedded-opentype"),url(Roboto-Black.710dab121b2a7bc2.woff2) format("woff2"),url(Roboto-Black.06740b883cfa8a2e.woff) format("woff"),url(Roboto-Black.41a719429c37346e.ttf) format("truetype"),url(Roboto-Black.711c7acb0aa346bb.svg#Roboto) format("svg");font-weight:900;font-style:normal}@font-face{font-family:Roboto;src:url(Roboto-BlackItalic.65db2fd69db01cd5.eot);src:local("Roboto BlackItalic"),local("Roboto-BlackItalic"),url(Roboto-BlackItalic.65db2fd69db01cd5.eot?#iefix) format("embedded-opentype"),url(Roboto-BlackItalic.f4307ac32c9ad43b.woff2) format("woff2"),url(Roboto-BlackItalic.fc1832915de70c44.woff) format("woff"),url(Roboto-BlackItalic.ba2ec768f43dbc84.ttf) format("truetype"),url(Roboto-BlackItalic.26186c8936090567.svg#Roboto) format("svg");font-weight:900;font-style:italic}@charset "UTF-8";:root{--blue:#007bff;--indigo:#6610f2;--purple:#6f42c1;--pink:#e83e8c;--red:#dc3545;--orange:#fd7e14;--yellow:#ffc107;--green:#28a745;--teal:#20c997;--cyan:#17a2b8;--white:#fff;--gray:#6c757d;--gray-dark:#343a40;--primary:#007bff;--secondary:#6c757d;--success:#28a745;--info:#17a2b8;--warning:#ffc107;--danger:#dc3545;--light:#f8f9fa;--dark:#343a40;--breakpoint-xs:0;--breakpoint-sm:576px;--breakpoint-md:768px;--breakpoint-lg:992px;--breakpoint-xl:1200px;--font-family-sans-serif:-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", "Liberation Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";--font-family-monospace:SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace}*,*:before,*:after{box-sizing:border-box}html{font-family:sans-serif;line-height:1.15;-webkit-text-size-adjust:100%;-webkit-tap-highlight-color:rgba(0,0,0,0)}body{margin:0;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif,"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol,"Noto Color Emoji";font-size:1rem;font-weight:400;line-height:1.5;color:#212529;text-align:left;background-color:#fff}img{vertical-align:middle;border-style:none}svg{overflow:hidden;vertical-align:middle}@media print{*,*:before,*:after{text-shadow:none!important;box-shadow:none!important}img{page-break-inside:avoid}@page{size:a3}body{min-width:992px!important}}body{color:#1e1e1e;font-family:"Roboto","Helvetica Neue",Helvetica,Arial sans-serif;font-size:16px;line-height:1.35em;font-weight:400;background:#F8F8F8}html{overflow-y:scroll}</style><link rel="stylesheet" href="styles.0dc46d5f654bbf56.css" media="all" onload="this.media='all'"><noscript><link rel="stylesheet" href="styles.0dc46d5f654bbf56.css"></noscript><meta property="og:title" content="Angular-Buch â†’ Angular 4.3: Der neue HttpClient"><meta name="twitter:title" content="Angular-Buch â†’ Angular 4.3: Der neue HttpClient"><meta name="description" content="ðŸ“™ Mit Version 4.3 des Angular-Frameworks steht ein neuer HttpClient bereit.
Dieser weist eine stÃ¤rkere Typisierung auf und vereinfacht die Verarbeitung von geladenen Daten.
Dieser Artikel zeigt Ihnen die wichtigsten Ã„nderungen zum alten HTTP-Service. Sie werden lernen, wie Sie das neue HttpClientModule einsetzen kÃ¶nnen und welche Vorteile es Ihnen bringt. Ein kleines Beispiel demonstriert Ihnen die Nutzung des neuen HttpClient."><meta property="og:description" content="ðŸ“™ Mit Version 4.3 des Angular-Frameworks steht ein neuer HttpClient bereit.
Dieser weist eine stÃ¤rkere Typisierung auf und vereinfacht die Verarbeitung von geladenen Daten.
Dieser Artikel zeigt Ihnen die wichtigsten Ã„nderungen zum alten HTTP-Service. Sie werden lernen, wie Sie das neue HttpClientModule einsetzen kÃ¶nnen und welche Vorteile es Ihnen bringt. Ein kleines Beispiel demonstriert Ihnen die Nutzung des neuen HttpClient."><meta name="twitter:description" content="ðŸ“™ Mit Version 4.3 des Angular-Frameworks steht ein neuer HttpClient bereit.
Dieser weist eine stÃ¤rkere Typisierung auf und vereinfacht die Verarbeitung von geladenen Daten.
Dieser Artikel zeigt Ihnen die wichtigsten Ã„nderungen zum alten HTTP-Service. Sie werden lernen, wie Sie das neue HttpClientModule einsetzen kÃ¶nnen und welche Vorteile es Ihnen bringt. Ein kleines Beispiel demonstriert Ihnen die Nutzung des neuen HttpClient."><meta name="twitter:site" content="@angular_buch"><meta property="og:locale" content="de"><meta property="og:type" content="website"><meta property="og:url" content="https://angular-buch.com/blog/2017-11-httpclient"><style>.width-6{width:6.5rem}.width-8{width:8rem}.linkImage{margin-right:3px;margin-top:-3px}
</style><style>.content img{max-width:100%}.details-page-autor{margin-top:-110px}.details-thumbnail{margin-bottom:-18px}.details-thumbnail .details-thumbnail-inner{border-bottom:23px solid #dfdede;max-height:300px;overflow:hidden;background-color:#fff;border-radius:4px;display:flex;justify-content:center}.details-thumbnail .details-thumbnail-inner .darken-overlay{display:block;position:absolute;height:300px;width:100%;padding-left:15px;padding-right:15px;padding-bottom:23px}.details-thumbnail .details-thumbnail-inner .darken-overlay div{display:block;position:relative;width:100%;height:100%;background-color:#0003;border-radius:4px 4px 0 0/4px 4px 0px 0px}.details-thumbnail img{width:100%;align-self:center}.video-container{position:relative;padding-bottom:56.25%;padding-top:0;height:0;overflow:hidden;margin-top:2rem;margin-bottom:2rem}.video-container iframe,.video-container object,.video-container embed{position:absolute;top:0;left:0;width:100%;height:100%}
</style><style>a[_ngcontent-syt-c14]:link, a[_ngcontent-syt-c14]:visited{text-decoration:underline}a[_ngcontent-syt-c14]:hover, a[_ngcontent-syt-c14]:active{text-decoration:none}</style><meta property="og:image" content="https://website-articles.angular-buch.com/blog/2017-11-httpclient/../x_shared/angular5.png"><meta name="twitter:image" content="https://website-articles.angular-buch.com/blog/2017-11-httpclient/../x_shared/angular5.png"><meta name="twitter:card" content="summary_large_image"><script>window['ScullyIO']='generated';</script></head>
<body scully-version="0.0.0">
  <app-root ng-version="15.1.0"><header><div class="nav__overlay"></div><div class="container"><div class="row no-gutters align-items-center"><div class="col-6 col-md-2"><a routerlink="/" href="/"><img src="assets/img/brand.svg" alt="" class="img-fluid" style="height: 40px;"></a></div><div class="col-6 col-md-10"><nav><ul><li><app-link><!----><!----><!----><a routerlinkactive="nav__current" ariacurrentwhenactive="page" href="/"><!----> Buch </a><!----><!----><!----></app-link></li><li><app-link><!----><!----><a routerlinkactive="nav__current" ariacurrentwhenactive="page" href="/blog" class="nav__current" aria-current="page"><!----> Blog </a><!----><!----><!----><!----></app-link></li><li><app-link><!----><!----><a routerlinkactive="nav__current" ariacurrentwhenactive="page" href="/material"><!----> Begleitmaterial </a><!----><!----><!----><!----></app-link></li><li><app-link><!----><!----><a routerlinkactive="nav__current" ariacurrentwhenactive="page" href="/kaufen"><img alt="" class="linkImage ls-is-cached lazyloaded" data-src="assets/img/symbol-basket.svg" src="assets/img/symbol-basket.svg"><!----> Jetzt kaufen </a><!----><!----><!----><!----></app-link></li><li><app-link><!----><a class="order" href="//angular.schule/"><img alt="" class="linkImage ls-is-cached lazyloaded" data-src="assets/img/symbol-group.svg" src="assets/img/symbol-group.svg"><!----> Schulungen </a><!----><!----><!----><!----><!----></app-link></li><!----></ul></nav><a href="/" class="nav__toggle"><img src="assets/img/symbol-menu.svg" alt=""></a></div></div></div></header><main><router-outlet></router-outlet><app-blog-details><app-hero-header headline="Blog" headlinelink="/blog"><section class="hero hero--smaller"><div class="hero__lines"><div class="container"><div class="row justify-content-between"><div class="col-md-6 col-xs-12"><h1 class="headline__page headline__page--blank headline__page--space-bottom"><a style="color: white;" href="/blog">Blog</a><!----><!----></h1></div><div class="col-5 d-none d-md-block text-center"><img src="assets/img/angular.png" alt="" class="hero__angular--smaller"></div></div></div></div></section><a name="content" id="content"></a></app-hero-header><section class="index index--list blog mt-n5"><div class="index__stripe index__stripe--list"><!----><div class="container"><a name="post" id="post"></a><div class="row details-thumbnail"><div class="col-12"><div class="details-thumbnail-inner"><img alt="" class="img-fluid rounded ls-is-cached lazyloaded" data-src="https://website-articles.angular-buch.com/blog/2017-11-httpclient/../x_shared/angular5.png" src="https://website-articles.angular-buch.com/blog/2017-11-httpclient/../x_shared/angular5.png"><!----></div></div><!----></div><div class="row"><div class="col-12"><div class="index__item index__item--list"><div class="row align-items-top"><div class="col-12 col-sm-3 col-md-2 text-center details-page-autor"><img alt="" class="blog__portrait img-fluid rounded-circle ls-is-cached lazyloaded" data-src="//www.gravatar.com/avatar/ce02d91f9c2030bea48ed38376b95771?size=200&amp;rating=pg&amp;d=mm" src="//www.gravatar.com/avatar/ce02d91f9c2030bea48ed38376b95771?size=200&amp;rating=pg&amp;d=mm"><span class="blog__author">Gregor Woiwode <!----></span></div><div class="col-12 col-sm-9 col-md-10 col-lg-10"><h1 class="blog__headline">Angular 4.3: Der neue HttpClient</h1><p class="blog__date">05.11.2017</p><p class="content markdown-body"><h2 id="abstract">Abstract</h2>
<blockquote>
<p>Mit Version 4.3 des Angular-Frameworks steht ein neuer HttpClient bereit.
Dieser weist eine stÃ¤rkere Typisierung auf und vereinfacht die Verarbeitung von geladenen Daten.
Dieser Artikel zeigt Ihnen die wichtigsten Ã„nderungen zum alten HTTP-Service. Sie werden lernen, wie Sie das neue <code>HttpClientModule</code> einsetzen kÃ¶nnen und welche Vorteile es Ihnen bringt. Ein kleines Beispiel demonstriert Ihnen die Nutzung des neuen <code>HttpClient</code>.</p>
</blockquote>
<h2 id="lohnt-sich-das-update">Lohnt sich das Update?</h2>
<p>Wenn Sie derzeit den herkÃ¶mmlichen <code>Http</code>-Service von Angular nutzen, ist ein Update unter allen UmstÃ¤nden zu empfehlen.
Das <code>HttpModule</code> ist bereits als <em>deprecated</em> gekennzeichnet. Das bedeutet, dass es in einer kÃ¼nftigen Version von Angular entfernt wird.</p>
<p><strong>Die kurze Antwort lautet: Das Update lohnt sich nicht nur, es ist darÃ¼ber hinaus auch notwendig.</strong></p>
<blockquote>
<p><strong>Eine Anmerkung zu @angular/http</strong>
Wenn <code>@angular/common/http</code> eingesetzt wird, kann in vielen FÃ¤llen <code>@angular/http</code> aus dem Projekt entfernt werden. An dieser Stelle ist etwas Vorsicht geboten: Angular-Bibliotheken, die von der Community oder Drittanbietern entwickelt wurden, kÃ¶nnen nach wie vor eine AbhÃ¤ngigkeit zu <code>@angular/http</code> aufweisen. Darum ist es fÃ¼r bestehende Projekte empfehlenswert zu prÃ¼fen, ob die vorherige Version des HTTP-Moduls entfernt werden kann oder ob eine Migration nÃ¶tig ist.</p>
</blockquote>
<h2 id="die-neue-http-bibliothek-im-Ã¼berblick">Die neue HTTP-Bibliothek im Ãœberblick</h2>
<p>Die neue Bibliothek zum Laden von Daten Ã¼ber HTTP heiÃŸt <code>HttpClientModule</code>.
Sie kann aus dem Paket <code>@angular/common/http</code> importiert werden.</p>
<pre><code class="language-typescript"><span class="hljs-keyword">import</span> { HttpClientModule } <span class="hljs-keyword">from</span> <span class="hljs-string">'@angular/common/http'</span>;
</code></pre>
<p>Das Modul weist eine kleinere Bundle-GrÃ¶ÃŸe auf als sein VorgÃ¤nger.</p>
<p>Der Name des Clients hat sich von <code>Http</code> in <code>HttpClient</code> geÃ¤ndert.
Die gute Nachricht ist, dass beide Clients problemlos parallel betrieben werden kÃ¶nnen.
Somit ist eine schrittweise Aktualisierung von bestehenden Angular-Apps mÃ¶glich.</p>
<p>Neben einigen Ã„nderungen in der API kÃ¶nnen <em>HttpRequests</em> nun vor dem Absenden zur API verÃ¤ndert werden.
Das ist nÃ¼tzlich, wenn Sie Informationen zur Authentifizierung, Fortschrittsanzeigen oder Logging zentral einrichten und steuern mÃ¶chten.
Hinter dem beschriebenen Mechanismus verbergen sich die <em>Interceptors</em>.
Wenn Sie Ihren eigenen Interceptor schreiben mÃ¶chten, finden Sie unter <a href="https://angular.io/guide/http#advanced-usage">https://angular.io/guide/http#advanced-usage</a> einen Guide, der alles zeigt, was Sie benÃ¶tigen.</p>
<h2 id="tldr--am-beispiel-lernen">TL;DR â€“ am Beispiel lernen</h2>
<p>Wenn Sie ein erfahrener Angular-Entwickler sind, benÃ¶tigen Sie den theoretischen Teil eventuell nicht.
Falls das auf Sie zutrifft, kÃ¶nnen Sie in der folgenden Demo sehen, wie der <code>HttpClient</code> eingesetzt wird.</p>
<p>FÃ¼r eine ausfÃ¼hrlichere ErlÃ¤uterung lesen Sie einfach weiter.</p>
<iframe style="width: 100%; height: 600px" src="https://embed.plnkr.co/XH4zUY/?show=app/book-store.service.ts,preview&amp;deferRun" frameborder="0" allowfullscren="allowfullscren">
</iframe>

<h2 id="das-httpclientmodule-verwenden">Das HttpClientModule verwenden</h2>
<p>Ab Version 4.3 ist Angulars neue HTTP-Bibliothek in <code>@angular/common/http</code> enthalten.
Um das <code>HttpClientModule</code> einzubinden, muss es im betreffenden <code>NgModule</code> registriert werden.
In unserem Beispiel binden wir es im <code>AppModule</code> ein.</p>
<pre><code class="language-typescript"><span class="hljs-comment">/* ... */</span>
<span class="hljs-keyword">import</span> { HttpClientModule } from <span class="hljs-string">'@angular/common/http'</span>;

<span class="hljs-meta">@NgModule({
  imports:      [BrowserModule, HttpClientModule],
  declarations: [AppComponent],
  bootstrap:    [AppComponent]
})</span>
export <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">AppModule</span> </span>{ }
</code></pre>
<p>Damit steht der <code>HttpClient</code> in der gesamten Anwendung zur VerfÃ¼gung.</p>
<h2 id="der-httpclient--typsicher-und-produktiv">Der HttpClient â€“ typsicher und produktiv</h2>
<p>Um den <code>HttpClient</code> zu verwenden, hat sich bis auf den Namen nichts im Vergleich zum VorgÃ¤nger verÃ¤ndert.
Beim Importieren ist zu beachten, dass der Pfad <code>@angular/common/http</code> verwendet wird.
Das folgende Snippet zeigt, wie der <code>HttpClient</code> in einen Service eingebunden werden kann.</p>
<pre><code class="language-typescript"><span class="hljs-keyword">import</span> { Injectable } <span class="hljs-keyword">from</span> <span class="hljs-string">'@angular/core'</span>;
<span class="hljs-keyword">import</span> { HttpClient } <span class="hljs-keyword">from</span> <span class="hljs-string">'@angular/common/http'</span>;

<span class="hljs-meta">@Injectable</span>()
<span class="hljs-keyword">export</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">BookStoreService</span> </span>{
  <span class="hljs-function"><span class="hljs-title">constructor</span>(<span class="hljs-params"><span class="hljs-keyword">private</span> http: HttpClient</span>)</span> {}
}
</code></pre>
<p>Das Angular-Team hat sich die Nutzung des HTTP-Dienstes angesehen und festgestellt,
dass in den meisten FÃ¤llen nur der Payload der <em>Response</em> verarbeitet wird.
Aus diesem Grund gibt der <code>HttpClient</code> nicht mehr das gesamte Response-Objekt zurÃ¼ck.
Dadurch vereinfacht sich das Mapping, denn der Aufruf <code>response.json()</code> ist nicht mehr notwendig.</p>
<p>DarÃ¼ber hinaus ist es mÃ¶glich, das erwartete Ergebnis eines Requests zu typisieren.</p>
<pre><code class="language-typescript">this.http
  .get<span class="hljs-params">&lt;T&gt;</span>(<span class="hljs-comment">/* URL */</span>): Observable<span class="hljs-params">&lt;T&gt;</span>
  .put<span class="hljs-params">&lt;T&gt;</span>(<span class="hljs-comment">/* URL */</span>, <span class="hljs-comment">/* Payload */</span>): Observable<span class="hljs-params">&lt;T&gt;</span>
  .post<span class="hljs-params">&lt;T&gt;</span>(<span class="hljs-comment">/* URL */</span>, <span class="hljs-comment">/* Payload */</span>): Observable<span class="hljs-params">&lt;T&gt;</span>
  .delete<span class="hljs-params">&lt;T&gt;</span>(<span class="hljs-comment">/* URL */</span>): Observable<span class="hljs-params">&lt;T&gt;</span>
</code></pre>
<p>Trotzdem ist der Zugriff auf das <code>HttpResponse</code>-Objekt weiterhin mÃ¶glich.
Dazu muss lediglich ein weiterer Parameter Ã¼bergeben werden:
Mit der Option <code>{ observe: 'response' }</code> liefert der Aufruf die gesamte <code>HttpResponse</code> zurÃ¼ck â€“ nicht nur den Payload.
Das erlaubt Ihnen zum Beispiel das Auslesen von Header-Daten und Status-Codes.</p>
<pre><code class="language-typescript">this.http
  .get(<span class="hljs-regexp">/* URL */</span>, { observe: <span class="hljs-string">'response'</span> }): Observable&lt;HttpResponse&gt;
  .put(<span class="hljs-regexp">/* URL */</span>, <span class="hljs-regexp">/* Payload */</span>, { observe: <span class="hljs-string">'response'</span> }): Observable&lt;HttpResponse&gt;
  .post(<span class="hljs-regexp">/* URL */</span>, <span class="hljs-regexp">/* Payload */</span>, { observe: <span class="hljs-string">'response'</span> }): Observable&lt;HttpResponse&gt;
  .<span class="hljs-keyword">delete</span>(<span class="hljs-regexp">/* URL */</span>, { observe: <span class="hljs-string">'response'</span> }): Observable&lt;HttpResponse&gt;
</code></pre>
<p>Durch die stÃ¤rkere Typisierung kÃ¶nnen wir nun spezifizieren, welche Daten von der API erwartet werden.
FÃ¼r die Daten der <a href="https://book-monkey2-api.angular-buch.com">BookMonkey-API</a> kann beispielswise folgendes Interface bereitgestellt werden, um die JSON-Daten zu beschreiben:</p>
<pre><code class="language-typescript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">interface</span> BookRaw {
  <span class="hljs-attr">title</span>: <span class="hljs-built_in">string</span>;
  subtitle: <span class="hljs-built_in">string</span>;
  isbn: <span class="hljs-built_in">string</span>;
  description: <span class="hljs-built_in">string</span>;
  rating: <span class="hljs-built_in">number</span>;
  authors: <span class="hljs-built_in">string</span>[];
}
</code></pre>
<p>Die Daten der API mÃ¼ssen in manchen FÃ¤llen transformiert werden, damit sie in der Anwendung eingesetzt werden kÃ¶nnen.
In unserem Fall ist das Zielformat die Klasse <code>Book</code>.
Im Gegensatz zu <code>BookRaw</code> bildet <code>Book</code> hier das Autorenteam in Form einer Zeichenkette ab und verzichtet auf die Anzeige der Bewertung.</p>
<pre><code class="language-typescript">export <span class="hljs-keyword">class</span> <span class="hljs-symbol">Book</span> <span class="hljs-symbol">implements</span> <span class="hljs-symbol">BookRaw</span> {
  constructor(
    <span class="hljs-keyword">public</span> title: <span class="hljs-built_in">string</span>,
    <span class="hljs-keyword">public</span> subtitle: <span class="hljs-built_in">string</span>,
    <span class="hljs-keyword">public</span> isbn: <span class="hljs-built_in">string</span>,
    <span class="hljs-keyword">public</span> description: <span class="hljs-built_in">string</span>,
    <span class="hljs-keyword">public</span> authorTeam: <span class="hljs-built_in">string</span>
  ) {}
}
</code></pre>
<p>Um aus den Daten der API die gewÃ¼nschten Klasseninstanzen zu erzeugen, kann mit den bekannten Operatoren gearbeitet werden.
Im folgenden Beispiel wird der Service <code>BookStoreService</code> erweitert.
Eine BÃ¼cherliste wird von der <a href="https://book-monkey2-api.angular-buch.com">BookMonkey-API</a> geladen.
Die geladenen Daten haben den Typ <code>BookRaw[]</code>.
Der Service sorgt dafÃ¼r, dass Komponenten mit dem Typ <code>Book[]</code> arbeiten kÃ¶nnen.
Dazu wird die Liste mit Hilfe des RxJS-Operators <code>map</code> transformiert.</p>
<blockquote>
<p>An dieser Stelle sei der Hinweis gestattet, dass RxJS-Operatoren zusÃ¤tzlich importiert werden mÃ¼ssen.
Der <code>map</code>-Operator kann mit folgendem Statement geladen werden: <code>import 'rxjs/add/operator/map';</code>
Auf die <em>Pipeable Operators</em> (vorher: Lettable Operators) haben wir an dieser Stelle noch verzichtet. Auf GitHub ist der gesamte Quelltext allerdings aktualisiert.</p>
</blockquote>
<p>Das Mapping wird in die Methode <code>provideBooksFrom()</code> ausgelagert, damit der Code lesbarer ist.
Sie werden bemerken, dass der Ãœbergabeparameter <code>raws</code> im <code>map</code>-Operator mit <code>BookRaw[]</code> typisiert ist.
Die explizite Typisierung innerhalb des Operators entfÃ¤llt.</p>
<pre><code class="language-typescript"><span class="hljs-keyword">import</span> { Observable } <span class="hljs-keyword">from</span> <span class="hljs-string">'rxjs/Observable'</span>;

<span class="hljs-keyword">import</span> <span class="hljs-string">'rxjs/add/operator/map'</span>;

<span class="hljs-keyword">import</span> { Book, BookRaw } <span class="hljs-keyword">from</span> <span class="hljs-string">'./models/book'</span>;

<span class="hljs-meta">@Injectable</span>()
<span class="hljs-keyword">export</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">BookStoreService</span> </span>{
  api = <span class="hljs-string">'https://book-monkey2-api.angular-buch.com'</span>;

  <span class="hljs-function"><span class="hljs-title">constructor</span>(<span class="hljs-params"><span class="hljs-keyword">private</span> http: HttpClient</span>)</span> {}

  getAll(): Observable&lt;Book[]&gt; {
     <span class="hljs-keyword">return</span> <span class="hljs-built_in">this</span>.http
       .get&lt;BookRaw[]&gt;(<span class="hljs-string">`<span class="hljs-subst">${<span class="hljs-built_in">this</span>.api}</span>/books`</span>)
       .map(<span class="hljs-function"><span class="hljs-params">raws</span> =&gt;</span> <span class="hljs-built_in">this</span>.provideBooksFrom(raws));
       <span class="hljs-comment">//   ^-- raws ist vom Typ BookRaw[]</span>
  }

  provideBooksFrom(raws: BookRaw[]): Book[] {
    <span class="hljs-keyword">return</span> raws.map(<span class="hljs-function"><span class="hljs-params">raw</span> =&gt;</span> <span class="hljs-keyword">new</span> Book(
      raw.title,
      raw.subtitle,
      raw.isbn,
      raw.description,
      raw.rating
    ));
  }
}
</code></pre>
<h2 id="fazit">Fazit</h2>
<p>Mit dem neuen <code>HttpClient</code> lÃ¤sst sich die Kommunikation mit HTTP-Schnittstellen stÃ¤rker typisieren.
Die Verwendung ist ansonsten weitestgehend gleich geblieben.
Lediglich die manuelle Umwandlung der Response von JSON mit <code>response.json()</code> entfÃ¤llt ab sofort.
Der <code>HttpClient</code> lÃ¤sst sich allerdings so konfigurieren, dass weiterhin das gesamte Response-Objekt zurÃ¼ckgegeben wird.</p>
<p>FÃ¼r neue Funktionen sollten Sie sofort auf den <code>HttpClient</code> setzen.
Ã„lteren Code kÃ¶nnen Sie schrittweise migrieren.</p>
<p>Das alte <code>HttpModule</code> ist <em>deprecated</em> und wird wahrscheinlich mit dem Release von Angular 6 im Jahr 2018 entfernt.
In Angular 5 steht Ihnen das <code>HttpModule</code> zum Ãœbergang noch zur VerfÃ¼gung.</p>
</p><!----><!----><a routerlink="/blog" ripple-radius="" class="btn btn-sm btn-primary mt-4" href="/blog"><i class="fa fa-backward mr-2"></i> ZurÃ¼ck</a><hr> Suggestions? Feedback? Bugs? Please <a target="_blank" class="content" href="https://github.com/angular-buch/website-articles/blob/gh-pages/blog/2017-11-httpclient/README.md"><i class="fa fa-github mr-1" style="font-size: 1.6rem; position: relative; bottom: -3px;"></i>fork/edit this page on Github</a>. </div></div></div></div></div><!----></div><!----></div></section><ngx-json-ld><script type="application/ld+json">{
  "url": "https://angular.schule/blog/2017-11-httpclient",
  "headline": "Angular 4.3: Der neue HttpClient",
  "description": "Mit Version 4.3 des Angular-Frameworks steht ein neuer HttpClient bereit.\nDieser weist eine stÃ¤rkere Typisierung auf und vereinfacht die Verarbeitung von geladenen Daten.\nDieser Artikel zeigt Ihnen die wichtigsten Ã„nderungen zum alten HTTP-Service. Sie werden lernen, wie Sie das neue HttpClientModule einsetzen kÃ¶nnen und welche Vorteile es Ihnen bringt. Ein kleines Beispiel demonstriert Ihnen die Nutzung des neuen HttpClient.",
  "datePublished": "2017-11-05",
  "dateModified": "2017-11-05",
  "publisher": {
    "name": "Angular-Buch",
    "url": "https://angular-buch.com",
    "@type": "Organization",
    "logo": {
      "@type": "ImageObject",
      "url": "https://angular-buch.com/assets/img/brand_export.png"
    }
  },
  "image": "https://website-articles.angular-buch.com/blog/2017-11-httpclient/../x_shared/angular5.png",
  "thumbnailUrl": "https://website-articles.angular-buch.com/blog/2017-11-httpclient/../x_shared/angular5.png",
  "author": {
    "@type": "Person",
    "name": "Gregor Woiwode",
    "email": "gregor.woiwode@gmail.com"
  },
  "keywords": [
    "Angular",
    "Angular 4",
    "Angular 5",
    "HttpClient",
    "HTTP"
  ],
  "mainEntityOfPage": "http://schema.org/WebPage",
  "@type": "Article",
  "@context": "http://schema.org"
}</script></ngx-json-ld></app-blog-details><!----><footer><div class="container"><div class="row align-items-center"><div class="col-sm-9"><div class="links"><app-link><!----><!----><!----><a routerlinkactive="nav__current" ariacurrentwhenactive="page" class="links__item" href="/"><!----> Home </a><!----><!----><!----></app-link>|<!----><app-link><!----><!----><a routerlinkactive="nav__current" ariacurrentwhenactive="page" class="links__item" href="/impressum"><!----> Impressum </a><!----><!----><!----><!----></app-link>|<!----><app-link><!----><!----><a routerlinkactive="nav__current" ariacurrentwhenactive="page" class="links__item" href="/datenschutz"><!----> DatenschutzerklÃ¤rung </a><!----><!----><!----><!----></app-link>|<!----><app-link><!----><a class="links__item links__twitter" href="https://twitter.com/angular_buch" rel="nofollow"><!----> Twitter </a><!----><!----><!----><!----><!----></app-link><!----><!----></div></div><div class="col-sm-3 text-right"></div></div></div></footer></main><ngx-json-ld><script type="application/ld+json"></script></ngx-json-ld><ngx-json-ld><script type="application/ld+json"></script></ngx-json-ld></app-root>
<script src="runtime.7a51741a38dddb2d.js" type="module"></script><script src="polyfills.3ff675c472c2ffab.js" type="module"></script><script src="main.bafa3f3528480b93.js" type="module"></script>

</body></html>